<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Step 5</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <style>body{margin:0}</style>
</head>
<body>
  <a-scene>
    <!-- Background color -->
    <a-sky color="#BBDFFF"></a-sky>

    <!-- Start point -->
    <a-entity id="start-point" position="0 1.6 0"></a-entity>

    <!-- RIG: (WASD/keyboard arrows) -->
    <a-entity id="rig" wasd-controls position="0 1.6 0">
      <a-entity camera look-controls></a-entity>
    </a-entity>

    <!-- Cursor -->
    <a-entity cursor="rayOrigin: mouse" raycaster="objects: .interactable"></a-entity>

    <!-- Teletransport object -->
    <a-box class="interactable"
           position="0 1 -2" width="0.6" height="0.6" depth="0.6"
           color="#FFC107" teleport-on-click></a-box>
  </a-scene>

  <script>
    // Center ojects at start
    document.querySelector('a-scene').addEventListener('loaded', () => {
      const rig = document.getElementById('rig');
      const p   = document.getElementById('start-point').object3D.position;
      rig.object3D.position.copy(p);
    });

    // Teletransport position on click
    AFRAME.registerComponent('teleport-on-click', {
      init: function () {
        this.el.addEventListener('click', () => {
          const rig = document.getElementById('rig');
          const p   = document.getElementById('start-point').object3D.position;
          rig.object3D.position.copy(p);
        });
      }
    });
  </script>
</body>
</html>
